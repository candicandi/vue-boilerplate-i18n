import{d as S,aQ as I,aR as L,aP as R,aS as k,x as l,aD as A,aE as C,y as x,A as T,ab as E,aT as U,aO as D,aH as $,_ as B,r as u,o as M,b as O,e as o,L as P,J as p,w as V,V as F,aF as j,aG as q}from"./index-ExGkhRyq.js";import N from"./ContainerLayout-JlSsXvRo.js";import{T as z}from"./Translations-tlUYcYts.js";import"./input-aI6bGq4e.js";import"./lodash-_kzv40rh.js";const G=S({name:"UserAccountLogin",components:{UserAccountContainerLayout:N,Promotion:I,Translations:z},setup(){const{proxy:t}=$(),m=L(),g=R(),_=k(),a=l(!0),n=l(""),s=l(""),c=A({email:"vite.admin@gmail.com",password:"123456"}),e=C.useI18n(),v=x(()=>({title:e.t("login.hydl"),actionList:[{attrs:{type:"primary",loading:a.value,size:"large"},text:e.t("login.signin"),on:{click(i){f(i)}}}],formConfig:[{attrs:{prop:"email",error:n.value,rules(){return[t.getRequiredRules({trigger:"change",message:e.t("login.plsemail")}),t.getValidatorRules("","blur",{type:"email",message:e.t("login.plscurrentemail")})]}},label:e.t("login.email"),prefixIcon:"user-tie",placeholder:e.t("login.plsemail")},{attrs:{prop:"password",error:s.value,rules(){return t.getRequiredRules({trigger:"change",message:e.t("login.plspwd")})}},link:{text:e.t("login.fgtpwd"),click(){}},type:"password",label:e.t("login.pwd"),prefixIcon:"lock",placeholder:e.t("login.plspwd")}]}));function r(i=!1){a.value=i}function f(i){a.value||i.validate(async h=>{if(!h)return;n.value="",s.value="",r(!0);const{error:y,data:b,msg:w}=await m.login(c);if(y){n.value=" ",s.value=w,r(!1);return}U.set("token",b.user.token),_.replace(`/${g.params.locale||""}`).then(()=>{D({type:"success",message:e.t("login.logingSuccess")})}).catch(()=>{})})}return r(!0),T(()=>{E(()=>{r(!1)})}),{isLoading:a,inputErrorEmail:n,inputErrorPassword:s,formData:c,configLogin:v,setLoading:r,onSubmit:f}}}),H=""+new URL("pinia-OAnYRDmB.svg",import.meta.url).href,d=t=>(j("data-v-537cba66"),t=t(),q(),t),J={class:"user-account-login"},Q={class:"user-account-nav"},Y={class:"nav-left"},K=d(()=>o("div",{class:"nav-logo"},null,-1)),W=d(()=>o("div",{class:"nav-circle"},null,-1)),X={class:"nav-title"},Z={class:"nav-right"},ee={class:"user-account-body"},te=d(()=>o("img",{src:H,alt:""},null,-1));function oe(t,m,g,_,a,n){const s=u("Translations"),c=u("UserAccountContainerLayout"),e=u("MyFooter");return M(),O("div",J,[o("div",Q,[o("div",Y,[K,W,o("div",X,P(t._t("base.systemTitle")),1)]),o("div",Z,[p(s)])]),o("div",ee,[p(c,F(t.configLogin,{"form-data":t.formData,onOnSubmit:t.onSubmit}),{titleIcon:V(()=>[te]),_:1},16,["form-data","onOnSubmit"])]),p(e)])}const ce=B(G,[["render",oe],["__scopeId","data-v-537cba66"]]);export{ce as default};
