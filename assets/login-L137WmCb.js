import{d as S,aF as k,aG as x,aE as L,aH as R,D as l,ar as C,as as A,E,a3 as D,G as T,aI as U,aD as $,aJ as v,av as B,_ as M,o as V,b as F,e as o,V as O,aa as u,w as P,X as j,r as p,at as q,au as G}from"./index-XOxVdDgf.js";import N from"./ContainerLayout-M6iau6zs.js";import{T as z}from"./Translations-LjUx0Dmo.js";import"./input-xRBBZdv4.js";import"./flatten-3e7BPVks.js";const H=S({name:"UserAccountLogin",components:{UserAccountContainerLayout:N,Promotion:k,Translations:z},setup(){const{proxy:t}=B(),m=x(),g=L(),_=R(),a=l(!0),n=l(""),s=l(""),c=C({email:"vite.admin@gmail.com",password:"123456"}),e=A.useI18n(),h=E(()=>({title:e.t("login.hydl"),actionList:[{attrs:{type:"primary",loading:a.value,size:"large"},text:e.t("login.signin"),on:{click(i){f(i)}}}],formConfig:[{attrs:{prop:"email",error:n.value,rules(){return[t.getRequiredRules({trigger:"change",message:e.t("login.plsemail")}),t.getValidatorRules("","blur",{type:"email",message:e.t("login.plscurrentemail")})]}},label:e.t("login.email"),prefixIcon:v("span",{class:"text-16px i-ic:baseline-mail-lock"}),placeholder:e.t("login.plsemail")},{attrs:{prop:"password",error:s.value,rules(){return t.getRequiredRules({trigger:"change",message:e.t("login.plspwd")})}},link:{text:e.t("login.fgtpwd"),click(){}},type:"password",label:e.t("login.pwd"),prefixIcon:v("span",{class:"text-16px i-ri:lock-password-fill"}),placeholder:e.t("login.plspwd")}]}));function r(i=!1){a.value=i}function f(i){a.value||i.validate(async y=>{if(!y)return;n.value="",s.value="",r(!0);const{error:w,data:I,msg:b}=await m.login(c);if(w){n.value=" ",s.value=b,r(!1);return}U.set("token",I.user.token),_.replace(`/${g.params.locale||""}`).then(()=>{$({type:"success",message:e.t("login.logingSuccess")})}).catch(()=>{})})}return r(!0),D(()=>{T(()=>{r(!1)})}),{isLoading:a,inputErrorEmail:n,inputErrorPassword:s,formData:c,configLogin:h,setLoading:r,onSubmit:f}}}),J=""+new URL("pinia-OAnYRDmB.svg",import.meta.url).href,d=t=>(q("data-v-20e64a37"),t=t(),G(),t),X={class:"user-account-login"},Y={class:"user-account-nav"},K={class:"nav-left"},Q=d(()=>o("div",{class:"nav-logo"},null,-1)),W=d(()=>o("div",{class:"nav-circle"},null,-1)),Z={class:"nav-title"},ee={class:"nav-right"},te={class:"user-account-body"},oe=d(()=>o("img",{src:J,alt:""},null,-1));function se(t,m,g,_,a,n){const s=p("Translations"),c=p("UserAccountContainerLayout"),e=p("MyFooter");return V(),F("div",X,[o("div",Y,[o("div",K,[Q,W,o("div",Z,O(t._t("base.systemTitle")),1)]),o("div",ee,[u(s)])]),o("div",te,[u(c,j(t.configLogin,{"form-data":t.formData,onOnSubmit:t.onSubmit}),{titleIcon:P(()=>[oe]),_:1},16,["form-data","onOnSubmit"])]),u(e)])}const le=M(H,[["render",se],["__scopeId","data-v-20e64a37"]]);export{le as default};
