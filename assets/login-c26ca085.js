import{d as L,K as I,L as k,j as l,x,u as C,f as R,M as A,n as T,N as v,m as U,J as $,O as E,_ as B,o as D,b as N,e as o,t as O,h as u,w as P,v as V,r as p,p as j,i as q}from"./index-6d9d12cc.js";import F from"./ContainerLayout-5b894ec2.js";import{T as M}from"./Translations-2b164477.js";import"./lodash-c6de39a2.js";const z=L({name:"UserAccountLogin",components:{UserAccountContainerLayout:F,Promotion:I,Translations:M},setup(){const{proxy:e}=U(),m=k(),g=$(),_=E(),n=l(!0),a=l(""),s=l(""),c=x({email:"vite.admin@gmail.com",password:"123456"}),t=C(),h=R(()=>({title:t.t("login.hydl"),actionList:[{attrs:{type:"primary",loading:n.value,size:"large"},text:t.t("login.signin"),on:{click(i){e.onSubmit(i)}}}],formConfig:[{attrs:{prop:"email",error:a.value,rules(){return[e.getRequiredRules({trigger:"change",message:t.t("login.plsemail")}),e.getValidatorRules("","blur",{type:"email",message:t.t("login.plscurrentemail")})]}},label:t.t("login.email"),prefixIcon:"user-tie",placeholder:t.t("login.plsemail")},{attrs:{prop:"password",error:s.value,rules(){return e.getRequiredRules({trigger:"change",message:t.t("login.plspwd")})}},link:{text:t.t("login.fgtpwd"),click(){}},type:"password",label:t.t("login.pwd"),prefixIcon:"lock",placeholder:t.t("login.plspwd")}]}));function r(i=!1){n.value=i}function y(i){n.value||i.validate(async w=>{if(!w)return;a.value="",s.value="",r(!0);const{error:S,data:f,msg:b}=await m.login(c);if(S){a.value=" ",s.value=b,r(!1);return}v.set("token",f.user.token),v.set("name",f.user.username),_.replace(`/${g.params.locale||""}`).then(()=>{e.$message({type:"success",message:t.t("login.logingSuccess")})}).catch(()=>{})})}return r(!0),A(()=>{T(()=>{r(!1)})}),{isLoading:n,inputErrorEmail:a,inputErrorPassword:s,formData:c,configLogin:h,setLoading:r,onSubmit:y}}}),J=""+new URL("pinia-7ed2c830.svg",import.meta.url).href;const d=e=>(j("data-v-81621390"),e=e(),q(),e),K={class:"user-account-login"},G={class:"user-account-nav"},H={class:"nav-left"},Q=d(()=>o("div",{class:"nav-logo"},null,-1)),W=d(()=>o("div",{class:"nav-circle"},null,-1)),X={class:"nav-title"},Y={class:"nav-right"},Z={class:"user-account-body"},ee=d(()=>o("img",{src:J,alt:""},null,-1));function te(e,m,g,_,n,a){const s=p("Translations"),c=p("UserAccountContainerLayout"),t=p("Footer");return D(),N("div",K,[o("div",G,[o("div",H,[Q,W,o("div",X,O(e._t("base.systemTitle")),1)]),o("div",Y,[u(s)])]),o("div",Z,[u(c,V(e.configLogin,{"form-data":e.formData,onOnSubmit:e.onSubmit}),{titleIcon:P(()=>[ee]),_:1},16,["form-data","onOnSubmit"])]),u(t)])}const re=B(z,[["render",te],["__scopeId","data-v-81621390"]]);export{re as default};
